{% extends 'base.html.twig' %}


{% block body %}

    <h2 style="text-align:center">
        {{ formation.intitule }}
    </h2>
    <br>
    <div style="text-align:center">
        <h4>Présentation</h4>
        <p>{{ formation.presentation }}</p>
    </div>

    <table class="table table-hover">
        <thead>
            <tr class="bg-info">
                <th scope="col" style="text-align:center">Module</th>
                <th scope="col" style="text-align:center">Nb Jours</th>
            </tr>
            
        </thead>
        <tbody>
        {% for key, categorie in modulesByCat %}
            <tr>
                <th colspan="2" style="text-align:center">{{key}}</th>
            </tr>
                {% for duree in categorie %}
                <tr>
                    <td style="text-align:center">{{duree.module.intitule}}</td>
                    <td style="text-align:center">{{duree.nbJour}}</td>
                </tr>
                {% endfor %}
        {% endfor %}
        </tbody>
    </table>
<br>
<h3> Liste des stagiaires <a href="{{ path('addStagiaire_formation') }}"><button type="button" class="btn btn-success">ADD</button></a></h3>
<table class="table table-dark">
        <thead>
            <tr class="bg-info">
                <th scope="col" style="text-align:center">Nom</th>
                <th scope="col" style="text-align:center">Date de naissance</th>
                <th scope="col" style="text-align:center">Mail</th>
                <th scope="col" style="text-align:center">Télephone</th>
                <th scope="col" style="text-align:center">Avatar</th>
                <th scope="col" style="text-align:center">Profil</th>
            </tr>
        </thead>
        <tbody>
        <tr>
        {% for stagiaire in formation.stagiaires %}
            <tr>
                <td>{{ stagiaire.nom ~ ' ' ~ stagiaire.prenom }}</td>
                <td>{{ stagiaire.dateNaissance|date('d/m/Y') }}</td>
                <td>{{ stagiaire.mail }}</td>
                <td>{{ stagiaire.telephone }}</td>
                <td><img class="rounded-circle" src="{{ stagiaire.avatar }}" width="50" alt=""></td>
                <td><a href="{{ path('show_stagiaire', {'id': stagiaire.id}) }}"><button type="button" class="btn btn-info">Détails</button></a></td>
            </tr>
        {% endfor %}
        </table>

{% endblock %}

